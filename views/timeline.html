<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Timeline Kemajuan Ilmu Pengetahuan - Daulah Abbasiyah</title>
    <link rel="stylesheet" href="/css/style.css">
    <style>
        /* Enhanced Timeline Styles */
        .timeline-intro {
            background: var(--putih);
            padding: 2rem;
            border-radius: 12px;
            margin-bottom: 3rem;
            box-shadow: 0 3px 15px var(--shadow);
            text-align: center;
        }

        .timeline-intro h3 {
            color: var(--hijau-tua);
            margin-bottom: 1rem;
        }

        .timeline-intro p {
            color: var(--hitam);
            line-height: 1.8;
        }

        .timeline-item {
            opacity: 0;
            transform: translateY(30px);
            transition: all 0.5s ease;
        }

        .timeline-item.visible {
            opacity: 1;
            transform: translateY(0);
        }

        .timeline-content {
            background: var(--putih);
            padding: 1.5rem;
            border-radius: 10px;
            box-shadow: 0 3px 10px var(--shadow);
            max-width: 350px;
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            transition: all 0.3s ease;
            border: 2px solid var(--hijau-sage);
        }

        .timeline-item:nth-child(odd) .timeline-content {
            left: calc(50% + 100px);
        }

        .timeline-item:nth-child(even) .timeline-content {
            right: calc(50% + 100px);
            text-align: right;
        }

        .timeline-content h3 {
            color: var(--emas-gelap);
            margin-bottom: 1rem;
            margin-top: 0.5rem;
            font-size: 1.15rem;
            line-height: 1.4;
        }

        .timeline-content .date {
            color: var(--hijau-tua);
            font-weight: 700;
            font-size: 1.2rem;
            margin-bottom: 0.5rem;
            display: block;
        }

        .timeline-content p {
            color: var(--hitam);
            font-size: 0.95rem;
            line-height: 1.8;
            display: none;
            margin-top: 1rem;
            margin-bottom: 1rem;
            text-align: justify;
        }

        .timeline-content.expanded p {
            display: block;
            animation: fadeIn 0.4s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .timeline-content .read-more {
            background: none;
            border: none;
            color: var(--emas);
            font-weight: 600;
            cursor: pointer;
            margin-top: 0.5rem;
            display: inline-flex;
            align-items: center;
            gap: 0.35rem;
            padding: 0;
            transition: color 0.3s ease, transform 0.3s ease;
        }

        .timeline-content .read-more:focus {
            outline: 2px dashed var(--emas);
            outline-offset: 4px;
        }

        .timeline-content .read-more:hover,
        .timeline-content .read-more:focus-visible {
            color: var(--emas-gelap);
            transform: translateX(5px);
        }

        /* Mobile Timeline */
        @media (max-width: 992px) {
            .timeline-content {
                position: static;
                max-width: 100%;
                margin: 1rem 0 1rem 100px;
                transform: none;
            }

            .timeline-item:nth-child(even) .timeline-content {
                text-align: left;
            }
        }

        @media (max-width: 768px) {
            .timeline-content {
                margin: 1rem 0 1rem 80px;
                padding: 1.2rem;
            }

            .timeline-content h3 {
                font-size: 1.05rem;
            }

            .timeline-content p {
                font-size: 0.9rem;
                line-height: 1.7;
            }
        }

        @media (max-width: 480px) {
            .timeline-content {
                padding: 1rem;
            }

            .timeline-content .date {
                font-size: 1.1rem;
            }

            .timeline-content h3 {
                font-size: 1rem;
            }

            .timeline-content p {
                font-size: 0.85rem;
            }
        }

        /* Enhanced Timeline Point for Better Readability */
        .timeline-point {
            min-width: 100px;
            min-height: 100px;
            padding: 1rem;
            font-size: 0.9rem;
            line-height: 1.3;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
        }

        /* Interactive Point Indicator */
        .timeline-point::before {
            content: 'üìç';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 1.5rem;
            opacity: 0;
            transition: all 0.3s ease;
        }

        .timeline-point:hover::before {
            opacity: 1;
            font-size: 2rem;
        }

        @media (max-width: 768px) {
            .timeline-point {
                min-width: 85px;
                min-height: 85px;
                font-size: 0.8rem;
            }
        }

        @media (max-width: 480px) {
            .timeline-point {
                min-width: 75px;
                min-height: 75px;
                font-size: 0.75rem;
            }
        }

        /* Next Section Info */
        .next-section-info {
            background: linear-gradient(135deg, var(--hijau-tua) 0%, var(--hijau-sage) 100%);
            padding: 2.5rem;
            border-radius: 15px;
            margin: 3rem 0 1.5rem 0;
            box-shadow: 0 5px 20px var(--shadow);
            text-align: center;
            color: var(--putih);
        }

        .next-section-info h3 {
            color: var(--emas);
            font-size: 1.8rem;
            margin-bottom: 1rem;
        }

        .next-section-info p {
            font-size: 1.05rem;
            line-height: 1.8;
            max-width: 800px;
            margin: 0 auto;
        }

        @media (max-width: 768px) {
            .next-section-info {
                padding: 2rem 1.5rem;
            }

            .next-section-info h3 {
                font-size: 1.4rem;
            }

            .next-section-info p {
                font-size: 0.95rem;
            }
        }

        @media (max-width: 480px) {
            .next-section-info {
                padding: 1.5rem 1rem;
            }

            .next-section-info h3 {
                font-size: 1.2rem;
            }

            .next-section-info p {
                font-size: 0.9rem;
            }
        }
    </style>
</head>
<body>
    <header>
        <nav>
            <div class="logo">Daulah Abbasiyah</div>
            <div class="hamburger" id="hamburger">
                <span></span>
                <span></span>
                <span></span>
            </div>
            <ul class="nav-links" id="navLinks">
                <li><a href="/index.html">Beranda</a></li>
                <li><a href="/timeline.html">Timeline</a></li>
                <li><a href="/infografis.html">Infografis</a></li>
                <li><a href="/tokoh.html">Tokoh</a></li>
                <li><a href="/uji-kemampuan.html">Kuis</a></li>
                <li><a href="/papan-peringkat.html">Peringkat</a></li>
                <li><a href="/about.html">Tentang</a></li>
            </ul>
        </nav>
    </header>

    <main>
        <section class="hero">
            <h1>Linimasa Kemajuan Ilmu Pengetahuan Abbasiyah</h1>
            <p>Ikuti rangkaian kebijakan, institusi, dan tokoh yang menjadikan kekhalifahan ini puncak kebudayaan ilmiah dunia Islam.</p>
        </section>

        <div class="timeline-intro">
            <h3>Faktor Pendorong Kejayaan Ilmu</h3>
            <p>Setiap titik waktu menyoroti kebijakan, institusi, dan stabilitas yang membuat ilmu pengetahuan berkembang pesat di Baghdad. Klik untuk melihat bagaimana politik, ekonomi, dan patronase saling menguatkan.</p>
        </div>

        <div class="timeline">
            <!-- Event 1: 750 M -->
            <div class="timeline-item">
                <div class="timeline-point" data-year="750">750 M</div>
                <div class="timeline-content">
                    <div class="date">750 M</div>
                    <h3>Revolusi Abbasiyah dan Mandat Keilmuan</h3>
                    <p>Kemenangan revolusi yang dipimpin Abu al-Abbas as-Saffah bukan hanya pergantian dinasti. Pemerintahan baru menjanjikan patronase bagi ulama, ilmuwan, dan penerjemah sebagai fondasi legitimasi politik serta kesejahteraan umat.</p>
                    <button type="button" class="read-more" aria-expanded="false">Baca Selengkapnya >></button>
                </div>
            </div>

            <!-- Event 2: 762 M -->
            <div class="timeline-item">
                <div class="timeline-point" data-year="762">762 M</div>
                <div class="timeline-content">
                    <div class="date">762 M</div>
                    <h3>Baghdad: Kota Ilmu dan Perdagangan Global</h3>
                    <p>Al-Mansur merancang Baghdad sebagai kota riset dan perdagangan. Tata ruang melingkar memudahkan koordinasi antara istana, masjid, dan pusat belajar, sementara jalur sutra yang aman menjamin pendanaan berkelanjutan bagi aktivitas ilmiah.</p>
                    <button type="button" class="read-more" aria-expanded="false">Baca Selengkapnya >></button>
                </div>
            </div>

            <!-- Event 3: 786-809 M -->
            <div class="timeline-item">
                <div class="timeline-point" data-year="786">786-809 M</div>
                <div class="timeline-content">
                    <div class="date">786-809 M</div>
                    <h3>Patronase Ilmiah Harun ar-Rasyid</h3>
                    <p>Harun ar-Rasyid menyediakan dana besar untuk perpustakaan, laboratorium, dan beasiswa ilmuwan. Baitul Hikmah berkembang dari perpustakaan istana menjadi pusat riset yang mempertemukan ilmuwan Persia, Arab, India, dan Bizantium.</p>
                    <button type="button" class="read-more" aria-expanded="false">Baca Selengkapnya >></button>
                </div>
            </div>

            <!-- Event 4: 813-833 M -->
            <div class="timeline-item">
                <div class="timeline-point" data-year="813">813-833 M</div>
                <div class="timeline-content">
                    <div class="date">813-833 M</div>
                    <h3>Gerakan Penerjemahan al-Ma'mun</h3>
                    <p>Al-Ma'mun membentuk tim penerjemah lintas agama, membayar mereka dengan emas seberat naskah yang selesai, dan membangun observatorium di Baghdad serta Damaskus. Stabilitas politik membuat proyek penerjemahan dan riset astronomi berjalan secara berkesinambungan.</p>
                    <button type="button" class="read-more" aria-expanded="false">Baca Selengkapnya >></button>
                </div>
            </div>

            <!-- Event 5: 847-861 M -->
            <div class="timeline-item">
                <div class="timeline-point" data-year="847">847-861 M</div>
                <div class="timeline-content">
                    <div class="date">847-861 M</div>
                    <h3>Konsolidasi Politik dan Pendidikan</h3>
                    <p>Pemerintahan Al-Mutawakkil menata ulang keamanan dan keuangan negara. Penggajian guru, perluasan masjid sebagai pusat studi, dan pembiayaan bimaristan dipertahankan agar aktivitas ilmiah tetap berjalan meski terjadi penyesuaian arah teologis.</p>
                    <button type="button" class="read-more" aria-expanded="false">Baca Selengkapnya >></button>
                </div>
            </div>

            <!-- Event 6: 900-950 M -->
            <div class="timeline-item">
                <div class="timeline-point" data-year="900">900-950 M</div>
                <div class="timeline-content">
                    <div class="date">900-950 M</div>
                    <h3>Jaringan Bimaristan dan Madrasah</h3>
                    <p>Pada abad ke-10, Baghdad dan kota-kota satelit membangun rumah sakit pengajaran (bimaristan) dan madrasah yang digaji negara. Lembaga-lembaga ini menggabungkan riset medis, pendidikan hukum, dan pelatihan administrasi sehingga ilmu terhubung dengan kebutuhan masyarakat.</p>
                    <button type="button" class="read-more" aria-expanded="false">Baca Selengkapnya >></button>
                </div>
            </div>

            <!-- Event 7: 1258 M -->
            <div class="timeline-item">
                <div class="timeline-point" data-year="1258">1258 M</div>
                <div class="timeline-content">
                    <div class="date">1258 M</div>
                    <h3>Invasi Bangsa Mongol</h3>
                    <p>Invasi Mongol menghancurkan Baghdad dan memutus rantai kelembagaan Abbasiyah. Meski demikian, jaringan ilmuwan yang telah tersebar ke Kairo, Damaskus, dan Andalusia membawa serta tradisi keilmuan sehingga warisan pengetahuan tetap hidup.</p>
                    <button type="button" class="read-more" aria-expanded="false">Baca Selengkapnya >></button>
                </div>
            </div>
        </div>

        <div class="next-section-info">
            <h3>Visualisasi Data Sejarah</h3>
            <p>Setelah memahami kronologi kebijakan ilmu, mari lihat gambaran yang lebih besar. Halaman infografis kemajuan pengetahuan Abbasiyah.</p>
        </div>

        <div class="btn-container">
            <a href="/infografis.html" class="btn-lanjutkan">Lanjutkan ke Infografis >></a>
        </div>
    </main>

    <!-- Modal untuk menampilkan detail timeline -->
    <div id="timelineModal" class="modal">
        <div class="modal-content">
            <span class="close-modal">&times;</span>
            <h2 id="modalTitle"></h2>
            <p id="modalContent"></p>
        </div>
    </div>

    <footer>
        <p>&copy; 2025 Website Pembelajaran Daulah Abbasiyah. Hak Cipta Dilindungi.</p>
        <p>Dibuat oleh Diah Iskamtini untuk tujuan pendidikan</p>
    </footer>

    <script src="/js/common.js"></script>
    <script src="/js/main.js"></script>
    <script>
        // Intersection Observer untuk animasi timeline saat scroll
        const observerOptions = {
            threshold: 0.2,
            rootMargin: '0px 0px -100px 0px'
        };

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('visible');
                }
            });
        }, observerOptions);

        document.querySelectorAll('.timeline-item').forEach(item => {
            observer.observe(item);
        });

        // Toggle timeline details via button or point click
        document.querySelectorAll('.timeline-item').forEach(item => {
            const content = item.querySelector('.timeline-content');
            const readMoreBtn = item.querySelector('.read-more');
            const timelinePoint = item.querySelector('.timeline-point');

            if (!content || !readMoreBtn) {
                return;
            }

            const setExpanded = (expanded) => {
                content.classList.toggle('expanded', expanded);
                readMoreBtn.textContent = expanded ? 'Tutup <<' : 'Baca Selengkapnya >>';
                readMoreBtn.setAttribute('aria-expanded', expanded);
            };

            readMoreBtn.addEventListener('click', (e) => {
                e.stopPropagation();
                setExpanded(!content.classList.contains('expanded'));
            });

            if (timelinePoint) {
                timelinePoint.addEventListener('click', () => {
                    setExpanded(!content.classList.contains('expanded'));
                });
            }
        });
    </script>
</body>
</html>
